"use strict";angular.module("coq",["ngResource","ngSanitize"]),angular.module("coq").config(["$provide",function(a){a.decorator("$resource",function(a){var b=function(){var b=arguments[0],c=[],d=a.apply(arguments);return angular.forEach(b.split(/\W/),function(a){a&&new RegExp("(^|[^\\\\]):"+a+"\\W").test(b)&&c.push(a)}),d.$$routeVariables=c,d};return b})}]),angular.module("coq").provider("Coq",function(){function a(a,b){if(angular.isObject(a)||1!==b.prototype.$resource.$$routeVariables.length)return a;var c=!1,d={};return angular.forEach(b.prototype.$resource.$$routeVariables,function(a){angular.forEach(b.$attributesDefinition,function(b,d){a===d&&(c=d)})}),c?(d[c]=a,d):a}this.$conditionBuilder=a,this.$get=["$q",function(a){function b(a){angular.forEach(a,function(a,b){angular.isFunction(a)||"$"===b[0]||-1===Object.keys(this.constructor.$attributesDefinition).indexOf(b)||(this.$attributes[b]=a)},this),this.save=function(){return this.$resource.$save(this.$attributes).$promise},this.destroy=function(){return this.$resource.$destroy(this.$attributes).$promise},this.update=function(){return this.$resource.$update(this.$attributes).$promise}}function c(a,b){angular.forEach(b,function(b,c){-1===g.indexOf(c)&&(a.prototype[c]=b)}),angular.forEach(b.$statics,function(b,c){-1===h.indexOf(c)&&(a[c]=b)})}function d(a,b){if(!b.$resource||!b.$resource.$$routeVariables)throw new Error("model declaration : resource object invalid");a.prototype.$resource=b.$resource}function e(b,c){b.find=function(d){var e=a.defer();return d=i.$conditionBuilder(d,b),c(d,function(a){e.resolve(new b(a))},e.reject),e.promise},b.all=function(){var d=a.defer();return c.query(function(a){var c=[];angular.forEach(a,function(a){c.push(new b(a))}),d.resolve(c)},d.reject),d.promise}}function f(a){function f(){f.superconstructor.apply(this,arguments)}if(!angular.isObject(a))throw new Error("config parameter missing");return extend(f,b),d(f,a),e(f,f.prototype.$resource),c(f,a),f.$attributesDefinition=a.$attributes||{},f.prototype.$attributes={},f}var g=["$resource","$attributes","$statics"],h=["find","all"],i=this;return{factory:f}}]});